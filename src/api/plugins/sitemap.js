// @flow
import { createPlugin, createToken, html } from 'fusion-core';
 
export const SitemapToken = createToken("Sitemap");

const SitemapContent = `
<?xml version="1.0" encoding="utf-8"?><!--Generated by Screaming Frog SEO Spider 15.2-->
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:image="http://www.google.com/schemas/sitemap-image/1.1">
  <url>
    <loc>https://www.flhomecashbuyers.com/</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/plantation</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/locations</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/pahokee</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/dania-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/belle-glade</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/coconut-creek</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/clewiston</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/blog</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/west-park</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/doral</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/lighthouse-point</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/pembroke-pines</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/pompano-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/fort-pierce</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/miami-gardens</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/oakland-park</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/palm-beach-gardens</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/boynton-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/fort-myers</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/north-bay-village</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/lauderhill</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/weston</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/greenacres</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/miramar</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/coral-gables</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/boca-raton</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/south-bay</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/hollywood</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/miami-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/hialeah-gardens</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/opa-locka</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/lauderdale-lakes</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/testimonials</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/wilton-manors</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/riviera-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/deerfield-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/how-it-works</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/aventura</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/port-st-lucie</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/west-miami</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/parkland</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/bonita-springs</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/margate</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/florida-city</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/westlake</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/hialeah</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/south-miami</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/tamarac</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/contact-us</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/fort-lauderdale</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/homestead</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/coral-springs</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/delray-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/sweetwater</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/labelle</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/sunny-isles-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/about-us</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/sunrise</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/cooper-city</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/lake-worth-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/north-lauderdale</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/west-palm-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/hallandale-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/miami-springs</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/cape-coral</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/atlantis</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/covid-19</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/north-miami-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/blog/landlording-2021-sell-house-cash</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/stuart</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/get-cash-offer/north-miami</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/testimonials/carolina-hialeah</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/testimonials/adi-lauderhill</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://www.flhomecashbuyers.com/testimonials/michael-boynton-beach</loc>
    <lastmod>2021-06-18</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.8</priority>
  </url>
</urlset>

`

 const plugin =
   __NODE__ &&
   createPlugin({
     deps: {
       sitemap: SitemapToken,
     },
     middleware({sitemap}) {
       return (ctx, next) => {
         if (ctx.element) {
             console.log('here 1')
           ctx.template.head.push(
             html`
               <meta name="sitemap" all />
             `
           );
         }
         if (ctx.method === 'GET' && ctx.path === '/sitemap.xml') {
            console.log('here 2')
             console.log(sitemap);
           ctx.body = SitemapContent;
         }
         return next();
       };
     },
   });
 
 export default plugin;